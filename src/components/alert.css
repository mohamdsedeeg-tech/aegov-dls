.aegov-alert {
  /*
        ==================================================================
        1. CORE STRUCTURAL STYLES (Fixed)
        ==================================================================
      */
  @apply relative flex items-start gap-4 rounded px-6 py-4;

  /*
        ==================================================================
        2. DYNAMIC COLOR PROPERTIES (Themeable)
        ==================================================================
      */
  background-color: var(--alert-bg);
  color: var(--alert-fg);
  --tw-ring-color: var(--alert-focus-ring);
  /* For the dismiss button */

  /*
        ==================================================================
        3. DEFAULT COLOR SCHEME (uses secondary palette as a neutral default)
        ==================================================================
      */
  --alert-bg: var(--color-secondary-50);
  --alert-fg: var(--color-secondary-700);
  --alert-link-fg: var(--color-secondary-800);
  --alert-link-hover-fg: var(--color-secondary-900);
  --alert-focus-ring: var(--color-secondary-700);

  /*
        ==================================================================
        CHILD ELEMENT STYLES
        ==================================================================
      */
  &>.alert-icon {
    color: var(--alert-fg);

    &>svg {
      @apply h-7 w-7 flex-shrink-0 fill-current;
    }

    &>img {
      @apply h-7 w-7 flex-shrink-0;
    }
  }

  &>.alert-content {
    @apply text-base self-center;

    & p {
      @apply last:mb-0;
    }

    & .alert-title {
      color: var(--alert-fg);
      @apply mb-5 font-semibold;
    }

    & .alert-footer {
      @apply mt-6 flex items-center justify-start space-x-6;

      & a {
        color: var(--alert-link-fg);
        @apply font-bold hover:underline hover:decoration-2 hover:underline-offset-2;

        &:hover {
          color: var(--alert-link-hover-fg);
        }
      }
    }

    a {
      color: var(--alert-link-fg);

      &:hover {
        color: var(--alert-link-hover-fg);
        text-decoration: underline;
      }
    }

    &.alert-with-link {
      @apply flex-1 md:flex md:justify-between;

      .alert-link {
        @apply mb-0 mt-3 text-sm md:ml-6 md:mt-0 flex-shrink-0;

        & a {
          color: var(--alert-link-fg);
          @apply whitespace-nowrap font-medium no-underline inline-flex items-center gap-2;

          &:hover {
            color: var(--alert-link-hover-fg);
          }

          & svg {
            @apply h-5 w-5;
          }
        }
      }
    }
  }

  &>.alert-dismiss {
    @apply absolute end-2 top-2.5;

    &>button {
      @apply rounded p-2 hover:opacity-60;

      &:focus-visible {
          outline-style: solid;
          outline-width: 2px;
          outline-offset: 2px;
          outline-color: var(--alert-focus-ring);
      }

      &>svg {
        @apply h-5 w-5;
      }
    }
  }

  &:has(.alert-dismiss) {
    @apply pe-10 ps-6;
  }

  /*
        ==================================================================
        4. COLOR & STYLE VARIANTS
        ==================================================================
      */
  &.alert-success {
    --alert-bg: var(--color-aegreen-50);
    --alert-fg: var(--color-aegreen-700);
    --alert-link-fg: var(--color-aegreen-700);
    --alert-link-hover-fg: var(--color-aegreen-600);
    --alert-focus-ring: var(--color-aegreen-700);

    &.alert-solid {
      --alert-bg: var(--color-aegreen-600);
      --alert-fg: var(--color-whitely-50);
      --alert-link-fg: var(--color-whitely-50);
      --alert-link-hover-fg: var(--color-whitely-100);
      --alert-focus-ring: var(--color-whitely-50);
    }
  }

  &.alert-info {
    --alert-bg: var(--color-techblue-50);
    --alert-fg: var(--color-techblue-700);
    --alert-link-fg: var(--color-techblue-700);
    --alert-link-hover-fg: var(--color-techblue-600);
    --alert-focus-ring: var(--color-techblue-700);

    &.alert-solid {
      --alert-bg: var(--color-techblue-600);
      --alert-fg: var(--color-whitely-50);
      --alert-link-fg: var(--color-whitely-50);
      --alert-link-hover-fg: var(--color-whitely-100);
      --alert-focus-ring: var(--color-whitely-50);
    }
  }

  &.alert-warning {
    --alert-bg: var(--color-camel-50);
    --alert-fg: var(--color-camel-700);
    --alert-link-fg: var(--color-camel-700);
    --alert-link-hover-fg: var(--color-camel-600);
    --alert-focus-ring: var(--color-camel-700);

    &.alert-solid {
      --alert-bg: var(--color-camel-600);
      --alert-fg: var(--color-whitely-50);
      --alert-link-fg: var(--color-whitely-50);
      --alert-link-hover-fg: var(--color-whitely-100);
      --alert-focus-ring: var(--color-whitely-50);
    }
  }

  &.alert-error {
    --alert-bg: var(--color-aered-50);
    --alert-fg: var(--color-aered-700);
    --alert-link-fg: var(--color-aered-700);
    --alert-link-hover-fg: var(--color-aered-600);
    --alert-focus-ring: var(--color-aered-700);

    &.alert-solid {
      --alert-bg: var(--color-aered-600);
      --alert-fg: var(--color-whitely-50);
      --alert-link-fg: var(--color-whitely-50);
      --alert-link-hover-fg: var(--color-whitely-100);
      --alert-focus-ring: var(--color-whitely-50);
    }
  }

  /*
        ==================================================================
        5. SIZE VARIANTS
        ==================================================================
      */
  &.alert-lg {
    &>.alert-icon {

      &>svg,
      &>img {
        @apply h-7 w-7;
      }
    }

    &>.alert-content {
      @apply text-lg;

      & p {
        @apply text-lg;
      }

      &.alert-with-link .alert-link {
        @apply text-base;

        & a {

          & svg,
          & img {
            @apply h-6 w-6;
          }
        }
      }
    }

    &>.alert-dismiss {
      @apply top-3;
    }
  }

  &.alert-base {
    &>.alert-icon {

      &>svg,
      &>img {
        @apply h-7 w-7;
      }
    }

    &>.alert-content {
      @apply text-base;

      & p {
        @apply text-base;
      }

      &.alert-with-link .alert-link {
        @apply text-sm;

        & a {

          & svg,
          & img {
            @apply h-5 w-5;
          }
        }
      }
    }

    &>.alert-dismiss {
      @apply top-2.5;
    }
  }

  &.alert-sm {
    &>.alert-icon {

      &>svg,
      &>img {
        @apply h-5 w-5;
      }
    }

    &>.alert-content {
      @apply text-sm;

      & p {
        @apply text-sm;
      }

      &.alert-with-link .alert-link {
        @apply text-xs;

        & a {

          & svg,
          & img {
            @apply h-4 w-4;
          }
        }
      }
    }

    &>.alert-dismiss {
      @apply top-2;
    }
  }
}